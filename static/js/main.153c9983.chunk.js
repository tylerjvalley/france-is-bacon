(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{191:function(e,t,a){e.exports=a(351)},196:function(e,t,a){},349:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),s=a.n(c),i=(a(196),a(43)),l=a(169),o=a(53),u={comments:[],theme:"default"},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if(t.type)switch(t.type){case"DISPLAY_POST_COMMENTS":var a=t.comments.map(function(e){return e});return Object(o.a)({},e,{comments:a});case"DISPLAY_THEME":return Object(o.a)({},e,{theme:t.theme});default:return e}},d=a(183),h={searched:"",subreddits:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;if(t.type)switch(t.type){case"SEARCH_SUBREDDIT":var a;return a=t.val.includes("r/")?t.val.replace("r/",""):t.val,Object(o.a)({},e,{searched:a});case"SUBMIT_SUBREDDIT":return e.subreddits.some(function(e){return e.toUpperCase()===t.val.toUpperCase()})?(alert("Subreddit already chosen"),e):Object(o.a)({},e,{subreddits:[].concat(Object(d.a)(e.subreddits),[t.val])});default:return e}},f=Object(i.c)({src:p,dis:m}),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,E=Object(i.e)(f,b(Object(i.a)(l.a))),v=a(36),g=a(26),S=a(27),_=a(30),k=a(28),O=a(31),y=a(54),j=a.n(y),N="https://www.reddit.com/",w=function(){return j.a.get(N+"r/all/top.json").then(function(e){return e.data.data.children}).catch(function(e){console.log(e)})},C=function(e){return j.a.get(N+"r/"+e+"/about.json").then(function(e){return!0}).catch(function(e){return console.log("Invalid Subreddit"),!1})},T=function(e){return j.a.get(N+"r/"+e+"/top.json").then(function(e){return e.data.data.children}).catch(function(e){console.log(e)})},x=function(e,t){return j.a.get(N+"r/"+e+"/comments/"+t+".json").then(function(e){return e.data[1].data.children}).catch(function(e){console.log(e)})},I=a(359),D=a(360),A=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleSubmit=function(e){e.preventDefault()},a}return Object(O.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"search-area"},r.a.createElement(I.a,{onSearchChange:function(t){return e.props.search(t.target.value)}}),r.a.createElement(D.a,{onClick:this.props.clicked},"Add Subreddit")))}}]),t}(n.Component),M=a(182),P=a(52),B=a(49),U=function(e){var t,a;return t="self"!==e.post_preview?r.a.createElement(M.a,{src:e.post_preview}):r.a.createElement(M.a,{style:{display:"none"}}),a=e.post_link?r.a.createElement("h4",{className:e.title_styles},r.a.createElement("a",{href:e.post_link,target:"blank"},e.post_title)):r.a.createElement("h4",{className:e.title_styles},r.a.createElement(B.b,{onClick:e.postClicked,to:{pathname:"/post/",state:{postTitle:e.post_title,image:e.post_preview,text:e.post_text,author:e.author,comments:e.comments}}},e.post_title)),r.a.createElement("div",{className:"post"},r.a.createElement("h4",{className:e.subreddit_title_styles},e.subreddit_title),a,t,r.a.createElement("div",{className:[e.subreddit_title_styles,"post-info"].join(" ")},r.a.createElement(P.a,{name:"arrow alternate circle up outline"}),r.a.createElement("p",{className:"score-num"},e.score),r.a.createElement(P.a,{name:"arrow alternate circle down outline"})," ",r.a.createElement("p",{className:"comment-num"},e.num_comments)," ",r.a.createElement(P.a,{name:"comment outline"})," ",r.a.createElement("br",null),"by ",e.author," | 12 hours ago"))},R=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={subImage:""},a}return Object(O.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.sub,j.a.get(N+"r/"+e+"/about.json").then(function(e){return e.data.data.icon_img}).catch(function(e){console.log(e)})).then(function(e){if(e)t.setState({subImage:e});else{t.setState({subImage:"https://www.freeiconspng.com/uploads/reddit-logo-social-icon-33.png"})}})}},{key:"render",value:function(){return r.a.createElement("div",{onClick:this.props.clicked,className:"sub-column"},r.a.createElement("div",{className:"subreddit-icon"},r.a.createElement("button",{className:"ribbon"},this.props.sub),r.a.createElement("img",{src:this.state.subImage,alt:this.props.sub})))}}]),t}(n.Component),H=a(358),L=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],isValid:!0},a.handleClick=function(e){C(e).then(function(t){!0===t?a.setState({isValid:!0},function(){a.props.onSubmit(e)}):a.setState({isValid:!1},function(){alert("Invalid Subreddit")})})},a.handleSubClick=function(e){T(e).then(function(e){a.setState({posts:e})})},a.handleAllClick=function(){w().then(function(e){a.setState({posts:e})})},a.handlePostClick=function(e,t){var n=[];x(e,t).then(function(e){e.map(function(e){return n.push(e.data),n}),a.props.onClickPost(n)})},a.handleThemeSelect=function(e){a.props.onSelectTheme(e)},a}return Object(O.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;w().then(function(t){e.setState({posts:t})})}},{key:"render",value:function(){var e,t,a,n,c,s,i=this;"default"===this.props.theme?(e="header",t="main-content",a="subreddit-selection",n="post-title-default",c="subreddit-title-default"):"night"===this.props.theme&&(e="nightHeader",t="main-content-night",a="sub-theme-night",n="post-title-night",c="subreddit-title-night"),s=this.props.subs.map(function(e){return r.a.createElement(R,{clicked:function(){return i.handleSubClick(e)},key:e,sub:e})});var l=this.state.posts.map(function(e){var t,a;return e.data.url.includes(".jpg")||e.data.url.includes(".png")?(t=e.data.url,a=null):e.data.is_self?(t=null,a=null):(a="http://www.reddit.com".concat(e.data.permalink),t=null),r.a.createElement(U,{subreddit_title_styles:c,title_styles:n,postClicked:function(){return i.handlePostClick(e.data.subreddit,e.data.id)},key:e.data.id,subreddit_title:e.data.subreddit_name_prefixed,post_title:e.data.title,post_link:a,post_preview:t,post_text:e.data.selftext,num_comments:e.data.num_comments.toString(),score:e.data.score.toString(),author:e.data.author})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e},r.a.createElement("h1",{className:"title"},"France Is Bacon"),r.a.createElement(A,{search:this.props.onSearch,clicked:function(){return i.handleClick(i.props.src)}}),r.a.createElement("div",{className:"ui compact menu"},r.a.createElement("div",{role:"listbox","aria-expanded":"false",className:"ui item simple dropdown",tabIndex:"0"},r.a.createElement("div",{className:"text",role:"alert","aria-live":"polite","aria-atomic":"true"},"Change Theme"),r.a.createElement("i",{"aria-hidden":"true",className:"dropdown icon"}),r.a.createElement("div",{className:"menu transition"},r.a.createElement("div",{"aria-checked":"false","aria-selected":"true",className:"selected item",onClick:function(){return i.handleThemeSelect("default")}},r.a.createElement("span",{className:"text"},"Default Theme")),r.a.createElement("div",{"aria-checked":"false","aria-selected":"false",className:"item",onClick:function(){return i.handleThemeSelect("night")}},r.a.createElement("span",{className:"text"},"Night Theme")))))),r.a.createElement("div",{className:a,centered:!0},r.a.createElement("div",{className:"grid-row"},r.a.createElement(R,{clicked:function(){return i.handleAllClick()},sub:"all"}),s)),r.a.createElement(H.a,null,r.a.createElement("div",{className:t},l)))}}]),t}(n.Component),V=Object(v.b)(function(e){return{src:e.src.searched,subs:e.src.subreddits,coms:e.dis.comments,theme:e.dis.theme}},function(e){return{onSearch:function(t){return e({type:"SEARCH_SUBREDDIT",val:t})},onSubmit:function(t){return e({type:"SUBMIT_SUBREDDIT",val:t})},onClickPost:function(t){return e(function(e){return{type:"DISPLAY_POST_COMMENTS",comments:e}}(t))},onSelectTheme:function(t){return e(function(e){return{type:"DISPLAY_THEME",theme:e}}(t))}}})(L),Y=a(37),F=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={postTitle:"",image:"",text:"",comments:[],author:""},a}return Object(O.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state,t=e.postTitle,a=e.image,n=e.text,r=e.comments,c=e.author;this.setState({postTitle:t,image:a,text:n,comments:r,author:c})}},{key:"render",value:function(){var e,t,a,n;"default"===this.props.theme?(e="comments",t="reply",a="post-title-default",n="subtext"):"night"===this.props.theme&&(e="comments-night",t="replies-night",a="post-title-night",n="subtext-night");var c=this.props.coms.map(function(a){var n;return a.replies&&(n=a.replies.data.children.map(function(e){return r.a.createElement("div",{key:e.data.id,className:t},r.a.createElement("p",null,e.data.author),r.a.createElement("h4",null,e.data.body))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e,key:a.id},r.a.createElement("p",null,a.author),r.a.createElement("h4",null,a.body)),n,r.a.createElement("hr",null))});return r.a.createElement("div",{className:"single-post"},r.a.createElement(B.b,{to:"/"},r.a.createElement(D.a,null,"Go Back")),r.a.createElement("div",{className:"single-post-header"},r.a.createElement("h1",{className:a},this.state.postTitle),r.a.createElement(M.a,{src:this.state.image}),r.a.createElement("p",{className:n},this.state.text),r.a.createElement("p",{className:n},"by: ",this.state.author)),r.a.createElement("div",{className:"comments"},c))}}]),t}(n.Component),J=Object(v.b)(function(e){return{coms:e.dis.comments,reps:e.dis.reps,theme:e.dis.theme}})(F),W=(a(349),function(e){function t(){return Object(g.a)(this,t),Object(_.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e;return"default"===this.props.theme?e="App":"night"===this.props.theme&&(e="App-Night"),r.a.createElement("div",{className:e},r.a.createElement(B.a,null,r.a.createElement(Y.a,{path:"/",exact:!0,component:V}),r.a.createElement(Y.a,{path:"/france-is-bacon/",exact:!0,component:V}),r.a.createElement(H.a,null,r.a.createElement(Y.a,{path:"/post/",render:function(e){return r.a.createElement(J,Object.assign({},e,{isAuthed:!0}))}}))))}}]),t}(n.Component)),X=Object(v.b)(function(e){return{theme:e.dis.theme}})(W);a(350),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(v.a,{store:E},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[191,1,2]]]);
//# sourceMappingURL=main.153c9983.chunk.js.map